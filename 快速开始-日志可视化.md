# 快速开始 - 日志可视化查看器

## 🎯 两种使用方式

### 方式1：独立查看器（推荐 - 可双击打开）

**生成独立查看器：**
```bash
python3 create_standalone_viewer.py
# 或使用bash版本（如果Python版本有问题）
# ./create_standalone_viewer.sh
```

**使用方法：**
1. 进入队伍文件夹（如 `Config/Sim_Logs/20260128_134751/Team5/`）
2. 双击 `view_logs_standalone.html` 文件
3. 浏览器自动打开并显示所有日志

**优点：**
- ✅ 可以直接双击打开
- ✅ 无需启动HTTP服务器
- ✅ 完全离线可用
- ✅ 日志数据内嵌在HTML中

**缺点：**
- ⚠️ HTML文件较大（包含所有日志数据）
- ⚠️ 需要手动运行脚本生成

### 方式2：HTTP服务器方式

**一键启动：**
```bash
./start_log_viewer.sh
```

**优点：**
- ✅ HTML文件小巧
- ✅ 可以实时更新（刷新页面即可）
- ✅ 自动选择最新比赛

**缺点：**
- ⚠️ 需要启动HTTP服务器
- ⚠️ 不能直接双击HTML打开

## 🚀 推荐工作流程

### 比赛进行中
使用方式2（HTTP服务器），可以实时刷新查看最新日志：
```bash
./start_log_viewer.sh
# 刷新浏览器页面查看最新数据
```

### 比赛结束后
使用方式1（独立查看器），方便分享和存档：
```bash
./create_standalone_viewer.sh
# 然后双击 view_logs_standalone.html
```

## 📖 详细步骤

### 方式1：独立查看器（可双击）

#### 1. 生成独立查看器
```bash
cd /home/lyl/test/MyBuman
./create_standalone_viewer.sh
```

#### 2. 打开查看器
- 进入 `Config/Sim_Logs/20260128_134751/Team5/`
- 双击 `view_logs_standalone.html`
- 浏览器自动打开并显示日志

### 方式2：HTTP服务器

#### 1. 运行脚本
```bash
cd /home/lyl/test/MyBuman
./start_log_viewer.sh
```

#### 2. 选择队伍
```
📂 最新比赛: 20250128_143025

🏆 可用队伍:
  1) Team5
  2) Team70

请选择队伍编号 (1-2): 1
```

#### 3. 查看日志
浏览器会自动打开 `http://localhost:8000/view_logs.html`

#### 4. 停止服务器
在终端按 `Ctrl+C`

## ⚠️ 重要提示

### 关于直接双击HTML文件

- ✅ **view_logs_standalone.html** - 可以直接双击打开
- ❌ **view_logs.html** - 不能直接双击，需要HTTP服务器

原因：
- `view_logs.html` 使用fetch加载外部文件，浏览器安全策略会阻止
- `view_logs_standalone.html` 将所有数据内嵌在HTML中，可以直接打开

### 选择哪个？

**比赛进行中** → 使用 `./start_log_viewer.sh` + `view_logs.html`
- 可以实时刷新查看最新数据

**比赛结束后** → 使用 `./create_standalone_viewer.sh` + `view_logs_standalone.html`
- 可以直接双击打开
- 方便分享和存档

## 🛠️ 故障排除

### 问题：提示"未找到 python3"
**解决**：
```bash
# Ubuntu/Debian
sudo apt install python3

# 检查是否安装成功
python3 --version
```

### 问题：端口8000被占用
**解决**：
```bash
# 查看占用端口的进程
lsof -i :8000

# 关闭占用的进程
kill -9 <PID>

# 或者修改脚本使用其他端口
```

### 问题：浏览器没有自动打开
**解决**：
手动在浏览器中打开：`http://localhost:8000/view_logs.html`

## 📚 其他工具

### 为已有日志生成HTML
```bash
./generate_html_for_existing_logs.sh
```

### 快速打开最新日志（不推荐，有浏览器限制）
```bash
./open_latest_logs.sh
```

## 💡 使用技巧

1. **筛选特定机器人**：使用"全部机器人"下拉菜单
2. **搜索关键词**：在搜索框输入任意关键词（如"goalkeeper"、"球"等）
3. **查看发送/接收**：使用"全部类型"下拉菜单筛选
4. **实时更新**：比赛进行中，刷新浏览器页面即可看到最新日志

## 🎯 完整工作流程

```bash
# 1. 运行SimRobot比赛（HTML会自动生成）
./simrobot ...

# 2. 比赛结束后，查看日志
./start_log_viewer.sh

# 3. 在浏览器中分析日志
# - 查看统计数据
# - 筛选特定消息
# - 分析机器人行为

# 4. 完成后按 Ctrl+C 停止服务器
```

## 📁 文件位置

```
Config/Sim_Logs/
└── 20250128_143025/        # 比赛时间戳
    ├── Team5/              # 队伍1
    │   ├── team_comm_p1.txt
    │   ├── team_comm_p2.txt
    │   ├── team_comm_p3.txt
    │   ├── team_comm_p4.txt
    │   ├── team_comm_p5.txt
    │   └── view_logs.html  # 可视化界面
    └── Team70/             # 队伍2
        └── ...
```

## 🎉 就是这么简单！

记住：**只需要运行 `./start_log_viewer.sh`**，其他的都自动完成！
